import{a as x,r,b as f,u as m,j as e,C as N,H as C,S as g}from"./index-6370820f.js";import{C as y}from"./CartButton-a57b3804.js";const I=()=>{var d;const o=x(),{incrementQuantity:p,decrementQuantity:u}=r.useMemo(()=>o,[o]),{productId:a}=f(),l=m(t=>t.storage),i=m(t=>t.carts.cart),c=r.useMemo(()=>[...l.pizzas,...l.sushi],[l]),s=r.useMemo(()=>a&&c.find(t=>t.id===parseInt(a))||null,[c,a]),n=a?i.some(t=>t.id===parseInt(a)):!1,b=n&&a?(d=i.find(t=>t.id===parseInt(a)))==null?void 0:d.count:0,{addItemToCart:j}=x(),h=t=>{j(t)};return e.jsxs(N,{children:[e.jsx(C,{title:"ReactShop - "+(s==null?void 0:s.name),meta:[{name:"description",content:"Тестовый интернет магазин на React и Redux-Toolkit"}]}),s?e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 bg-white text-gray-800 rounded-lg border border-gray-200 shadow-md p-4",children:[e.jsx("div",{className:"basis-1/2 2xl:basis-1/3",children:e.jsx("img",{src:s.image,alt:s==null?void 0:s.name,className:"object-cover rounded-lg"})}),e.jsxs("div",{className:"basis-1/2 2xl:basis-2/3 flex flex-col justify-center text-md sm:text-lg lg:px-4",children:[e.jsx("h2",{className:"text-lg sm:text-2xl font-bold mb-2 lg:mb-6",children:s.name}),e.jsx("p",{className:"text-gray-500 font-bold mb-1",children:"Состав :"}),e.jsx("p",{className:"mb-2 lg:mb-6",children:s.ingredients}),e.jsx("p",{className:"text-gray-500 font-bold mb-1",children:"Цена :"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold mb-2 lg:mb-6",children:s.price+" ₽"}),e.jsxs("div",{className:"w-full flex justify-center lg:justify-start",children:[!n&&e.jsx(y,{message:"Добавить в корзину",onClick:()=>h(s)}),n&&e.jsxs("div",{className:"flex items-center gap-1 relative pt-4 group",children:[e.jsx(g,{onClick:()=>u({scenario:"remove",id:s.id}),textColor:"text-white",bgColor:"bg-amber-600",children:"-"}),e.jsxs("div",{className:"flex flex-col text-center",children:[e.jsx("span",{className:"font-semibold w-8 leading-4",children:b}),e.jsx("span",{className:"text-xs leading-3",children:"шт."})]}),e.jsx(g,{onClick:()=>p(s.id),textColor:"text-white",bgColor:"bg-amber-600",children:"+"}),e.jsx("span",{className:"text-sm text-gray-400 leading-3 absolute top-0 left-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"В корзине"})]})]})]})]}):e.jsx("div",{children:"Товар не найден"})]})};export{I as default};
